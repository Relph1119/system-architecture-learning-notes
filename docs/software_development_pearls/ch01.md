# 第1章 需求

## 0 需求的定义

- 业务需求：定义了项目的业务目标，记录在项目的愿景与范围文档、项目章程或商业案例中。
- 用户需求：定义了用户能通过产品完成的活动、任务或目标，通常以用例或用户故事的形式表示，有时被概括为涉众需求，包括了产品用途以外的更广泛需求。
- 解决方案需求：定义了解决方案满足涉众需求所需要的能力。
- 功能需求：定义了产品在特定条件下必须表现出来的行为。开发人员通过编码来满足功能需求，而这些功能需求与特定的用户需求是一致的。
- 非功能需求：是解决方案需求的一个方面，也指产品必须表现出的质量和运行特性，也叫质量属性。
- 外部接口需求：定义了产品与外界的联系。包括用户、其他软件系统、硬件设备和通信机制。
- 转换需求：定义了产品必须满足的条件，从当前状态转换到未来状态。

## 1 【经验教训1】需求不对，项目要废

- 需求都是后续项目工作的基础。
- 如果没有高质量的需求，开发团队提供给客户的产品就会是一个“惊喜”，而软件中的“惊喜”通常就是“惊吓”。

> 需要客户在整个项目周期中都全程参与，但是客户有自己的工作要做，无法花很多时间在这个项目上。

解决方案：
1. 跟客户讲道理，说一些以前由于客户参与度不足而遇到的问题，甚至答复客户积极参与之后能得到不菲的回报。
2. 为需求约定提出一个结构化的框架，可能包含一些非正式讨论、启发研讨会、需求审查等。

## 2 【经验教训2】需求开发成功，大家就都能懂

- 需求开发的目的是在项目涉众之间奖励一个**共同的期望**，即**共同的愿景**。
- 愿景声明为大家提供一个共同的战略目标，所有项目参与者都应朝着这个目标努力。

> 愿景关键词模板：  
> 对于 【商业需求或机会的声明】 谁 【目标用户】 来说，【项目名或产品名】 是一个 【项目类型或产品类型】 其 【主要产品能力；它将提供的核心利益；购买产品或开展项目令人信服的理由】相较于【当前的商业现实或替代产品】，我们的产品【简明扼要地总结该产品相对于竞品的主要优势】。  
> 示例：对于*那些对PearlsFromSand一书感兴趣的读者*来说，*PearlsFromSand*是一个*网站*，其*提供有关该书及其作者的信息，允许网站访问者购买各种格式的副本，并促进建立一个有兴趣分享其人生经验的社区*。相较于*仅仅描述和宣传一本书的网站*，*PearlsFromSand.com将允许访问者分享自己的人生经验，并阅读和评论他人发布的人生经验。*

## 3 【经验教训3】涉众的兴趣点都“长”在需求上

- 涉众即所有积极参与项目、受项目影响或能影响项目发展方向的个人或团体，也称为利益相关者。

确定每个涉众群体需要考虑的问题：
- **何人？** 描述每个涉众群体，让所有项目参与者都了解他们是谁。
- **有多感兴趣？** 思考项目的结果对该群体有什么影响，以及他们希望参与到项目中的程度。
- **何种影响？** 确定每个涉众能做决定的权限。
- **挑选一下？** 为每个群体挑选适当的使者与他们一起工作。
- **何处？** 建立沟通机制和协议。
- **何取？** 确定你需要从每个群体获得的信息、决策以及数据。
- **何予？** 必须知道哪些项目信息与哪个群体有关。
- **何晤？** 考虑用哪种最佳合作方式来交换需要的信息。
- **何尊？** 当出现需求冲突或优先级问题时，要评估如何取舍才能与项目的商业目标最一致。

## 4 【经验教训4】以人为本，用途为先

- 将需求对话从“产品本身”转移到“用户需求用产品做什么”。
- 用途为先：
    - BA（业务分析师）在需求启发活动中直接问“你要用系统做什么？”，确定用户需要在系统帮助下完成的任务或目标。
    - 用例提供了一种结构化的方式来组织相关功能的描述。
    - 以用途为中心的分析有助于确定优先级。
- 用户故事：先宽泛地定下用户任务，然后逐步细化和阐述它们的细节。

> 工作故事模板：  
> 当出现【情形】时，我要【进行一些任务】，这样就可以【达成结果】。

## 5 【经验教训5】需求不赖，得看迭代

- 需要在构建产品的每一部分前获得足够准确的需求信息，不然就只能等着重新构建它了。

确定项目业务需求的流程：
1. 列一个用户需求（用例或者用户故事）初步清单。充分了解每个需求，理解其适用范围、规模及相对重要性。
2. 根据用户需求优先级进行排期。
3. 进一步引出并完善下一个开发周期中的需求细节，从用户需求中引出功能需求。
4. 重排优先级。在这个过程中记得把新排进来的需求也列进去，并在开发过程中将优先级列表逐步下移。
5. 返回第2步，循环往复。

## 6 【经验教训6】敏捷需求并无不同

- 无论哪种开发流程，开发人员对于实现正确功能所需的信息都一样的。
- 敏捷开发方法旨在努力适用各种不可避免的变化。
- 为了减少架构缺陷带来的风险，敏捷开发团队应该在早期迭代中审视更宽的范围，并考虑可能需要哪些重大的架构决策。应尽早开始探索非功能需求，以便设计能够实现关键的功能，以及其他跨产品的质量目标。
- 编写需求和编写测试是一个强大的组合，*不同的人基于同一个信息源*编写需求和测试时，效果最好。

## 7 【经验教训7】好记性不如烂笔头

- 那些不愿意记录需求的团队，通常是担心被分析瘫痪所拖累。
> 分析瘫痪：当我们准备开始做一件新的事情时，会思考它可能对我们的影响，思考我们是否已经准备充分，然后会变得行动迟缓，甚至最后不了了之。

- 如果每个项目的涉众都能了解每一次讨论，并拥有完美的记忆，那么你就永远不需要写下任何内容。
- 随着经验的积累，你会了解这个世界并不是非黑即白的，是有过渡的。

## 8 【经验教训8】需求就是要清晰沟通，不要用鬼话迷惑涉众

- 业务分析师必须让所有参与者都了解需求的知识体系、优先级、状态及变更。每个人都可以参与需求评审。每个参与者都应贡献关于需求的评论与想法，帮助团队成员达成并保持整体的理解。
- 业务分析师需要把信息传达给信息源以做验证。
- 高质量的软件是基于高质量的需求开发的，这些需求被精心设计成可用的形式，并被传递给每一个需要了解它的人。
- 针对只关心概览的涉众，可以考虑强调表格、弱化文字。
- 绘制分析与设计模型：结构化分析（SA）、IDEF0、统一建模语言（UML）、需求建模语言（RML）

## 9 【经验教训9】群众的眼睛是雪亮的

不同需求的阅读者可能发现的质量问题：
- 项目发起人、市场人员、关键客户：基于需求的解决方案是否能满足我们的业务目标？我们是否了解与每个需求相关的风险和业务影响？
- 用户代表：我是否理解每个需求？每个需求是否准确表达了客户诉求？基于这组需求的解决方案是否能满足我的诉求？每个需求是否都有必要？
- 项目经理：团队是否能在现有资源及约束条件下为需求构建一个解决方案？每个需求所附的信息是否足以让我评估复杂性及对项目的影响？
- 业务分析师、产品经理、产品负责人：每个需求是否涉及客户价值？需求是否明确清晰？需求间是否互不冲突？
- 软件设计师、软件开发者、硬件工程师：我是否理解每个需求？需求是否包含或指向我涉及与建立一个解决方案所需的所有信息？基于需求的解决方案在技术、可用资源及时间上是否可实现？
- 测试人员：我是否理解每个需求？是否确定了所有异常情况并描述了其处理方法？我是否想出一些方案来验证每个需求是否被正确实施？
- 其他涉众：这些需求是否尊重我的观点中的所有期望与限制。

需求质量检查单：
- 完整性
- 一致性
- 正确性
- 可行性
- 必要性
- 已按优先级排序
- 醒豁性：所有阅读者都只能以一种放啊是阐释每个需求，且是以相同的方式。
- 可验证性

## 10 【经验教训10】需求越好，风险越渺

- 每个项目的需求完整性包含三个维度：信息类型、知识广度、细节深度。

## 11 【经验教训11】不是仅收集就完事了

- 一个资深的业务分析师会启发对话，引导参与者以结构化的方式发现相关知识。
- 敏捷开发项目在小段迭代中处理需求，并期望需求集在开发过程中不断增长和发展。每个开发迭代都包含启发活动。

启发技术：
- 访谈：一对一的涉众访谈既高效又能集中注意力，但缺乏协同互动。
- 小组研讨会：业务分析师与多个用户代表及其他涉众会面，研讨会可能被超出原计划的讨论范围，容易被细节所困。
- 观察：观察用户在本地环境中的工作情况。
- 文档分析：现有系统、产品和业务流程的文档可称为潜在需求的丰富来源。
- 调查：在线调查对商业产品很有用。
- 原型：使需求更具象化，但可能将人们的思维固化在一个特定的解决方案上。

## 12 【经验教训12】客户的嘴，多听不亏

- 确定了用户类别之后，需要从每个群体中选择对应客户来为其相关内容发声。
- 产品经理履行业务分析师的职能：产品经理负责将满足市场需求并代表可行的商业机会的差异化产品推向市场。产品经理的一个关键作用就是确保**产品能支持公司的整体战略和目标**

## 13 【经验教训13】天眼不通，他心不通

- 需求的两大风险是显式需求和隐式需求。
    - 显式需求：人们不说出来，却又期望的需求。
    - 隐式需求：那些被另一个需求所需要，却未被明确说明的需求。
- 业务分析师应尝试揭露和确认那些模糊的假设，因为它们可能是无效的或过时的。

## 14 【经验教训14】众口难调，则勿全调

- 对不同类型的用户分别举办研讨会，有助于确保所有参与者都对会议议题感兴趣。
- 主持人应为每次会议准备好目标和议程，为讨论设定时间框架以保证进度。
- 主持人必须优先考虑横向范围（小组计划在研讨会中讨论的可能的用户需求子集），然后再是纵向范围（每个特定项的探讨深度）。
- 我们需要更多的讨论来在洽谈中达成共识，而不是进行简单的投票，或将决定权下放给某个人，甚至听天由命。

## 15 【经验教训15】优先级看嗓门，项目妥妥没魂

- 优先级排序的目标是快速且低成本地提供最大的客户价值。
- 从商业角度看，喊得最大声的客户的需求不一定代表最重要的功能。
- 优先级排序技巧：
    - 三级法：高、中、低三档。
    - MoSCoW法：分为Must、Should、Could、Won't
    - 对单个特性、功能需求、用例或故事进行配对比较。
    - 对一组近似需求项标记优先次序。
    - 在各需求之间总共分配100分，给优先级最高的项目以最高分。
    - 计划博弈：客户与开发者合作，按照相对优先级列出一组用户故事。
    - 根据产品的价值和实现成本对需求进行评级的分析法。

## 16 【经验教训16】边界不划清，需求摊大饼

- 每段计划中的工作都以团队在该段工作中准备实现的功能基线为始。
- 范围：涉众认可的在特定迭代、构建或产品发布中交付的一组能力。

> 确定需求是否在范围内：  
> 1. 在范围内：该功能应该纳入当前开发周期目标中。
> 2. 不在，显然超了：纳入待办项中，未来再考虑。
> 3. 不在当下定义的范围内，但应该在：项目负责人必须做出业务决策，决定是否扩大项目的范围以适配新能力。
